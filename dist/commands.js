const _0x1a0936=_0x4017;function _0x1227(){const _0x5f1d27=['ndu0svnYwxHP','ofnntejMsq','zxHLy3v0zq','BMv3wa','mtu1nda1mZrdv3nwufG','kcGOlISPkYKRksSK','C2vHCMnO','Dw5KB1n0ywnR','ndiXndG3D2flvu1u','B2XKwq','Dw5KBW','y29TBwfUzhm','y29UC3rYDwn0B3i','C3bSAwnL','zNjHBwu','BMv3wq','mZeYntK2zwLREgf0','nJGXmda1mgTzs3r4rW','zM1mAxn0','Dg9tDhjPBMC','mJjgv2TIELG','mteWoty4mZbguhPptLC','BMv3rMXHzW','zNjHBwvnB2r1Bgu','CMvKBW','BgvUz3rO','B2XKrMXHzW','B2XKu2nHBgu','Aw5KzxHpzG','C2nHBgu','ywrKq29TBwfUza','y29TBwfUzfn0ywnR','nteWnLDivxbLva','zMXHzW','B2XKwa','zxHWCMvZC2LVBLjLy3q','nZHbqunSuKG','ChvZAa','yxbWBhK','ntaWndnwue9bs1u','BMv3u2nHBgu'];_0x1227=function(){return _0x5f1d27;};return _0x1227();}(function(_0x215ba6,_0x160868){const _0x3dcb7c=_0x4017,_0x2aee61=_0x215ba6();while(!![]){try{const _0x1c7d8b=parseInt(_0x3dcb7c(0xbc))/0x1+parseInt(_0x3dcb7c(0xdd))/0x2*(-parseInt(_0x3dcb7c(0xd4))/0x3)+-parseInt(_0x3dcb7c(0xc4))/0x4+parseInt(_0x3dcb7c(0xc5))/0x5+parseInt(_0x3dcb7c(0xd8))/0x6*(parseInt(_0x3dcb7c(0xdb))/0x7)+parseInt(_0x3dcb7c(0xde))/0x8*(parseInt(_0x3dcb7c(0xb8))/0x9)+parseInt(_0x3dcb7c(0xc9))/0xa*(-parseInt(_0x3dcb7c(0xc8))/0xb);if(_0x1c7d8b===_0x160868)break;else _0x2aee61['push'](_0x2aee61['shift']());}catch(_0x2750d0){_0x2aee61['push'](_0x2aee61['shift']());}}}(_0x1227,0xe06fb));const _0xc80bd2=(function(){let _0xfc606f=!![];return function(_0x101dc5,_0x47e385){const _0x1c9e11=_0xfc606f?function(){const _0x160b23=_0x4017;if(_0x47e385){const _0x231825=_0x47e385[_0x160b23(0xda)](_0x101dc5,arguments);return _0x47e385=null,_0x231825;}}:function(){};return _0xfc606f=![],_0x1c9e11;};}()),_0xdefa27=_0xc80bd2(this,function(){const _0x569006=_0x4017;return _0xdefa27[_0x569006(0xc7)]()['search'](_0x569006(0xb9))[_0x569006(0xc7)]()[_0x569006(0xc0)](_0xdefa27)[_0x569006(0xba)]('(((.+)+)+)+$');});_0xdefa27();class Command{[_0x1a0936(0xb6)](){}[_0x1a0936(0xbe)](){}}class AddModuleCommand extends Command{constructor(_0x39b58f,_0x4b78a7){const _0x1a2fbc=_0x1a0936;super(),this[_0x1a2fbc(0xc2)]=_0x39b58f,this[_0x1a2fbc(0xcb)]=_0x4b78a7;}['execute'](){const _0x24a906=_0x1a0936;this['frame']['fmList'][_0x24a906(0xd9)](this[_0x24a906(0xcb)]);}[_0x1a0936(0xbe)](){const _0x339ec3=_0x1a0936,_0x399fba=this[_0x339ec3(0xc2)]['fmList'][_0x339ec3(0xd0)](this[_0x339ec3(0xcb)]);_0x399fba!==-0x1&&this[_0x339ec3(0xc2)]['fmList'][_0x339ec3(0xc1)](_0x399fba,0x1);}}class AddFmCommand extends Command{constructor(_0x4b29be,_0x442bef){const _0xbb0e0a=_0x1a0936;super(),this['frame']=_0x4b29be,this[_0xbb0e0a(0xcb)]=_0x442bef;}[_0x1a0936(0xb6)](){const _0x4d0b66=_0x1a0936;this[_0x4d0b66(0xc2)][_0x4d0b66(0xc6)]['push'](this[_0x4d0b66(0xcb)]);}[_0x1a0936(0xbe)](){const _0x37f819=_0x1a0936,_0x1b5cb2=this[_0x37f819(0xc2)][_0x37f819(0xc6)]['indexOf'](this[_0x37f819(0xcb)]);_0x1b5cb2!==-0x1&&this[_0x37f819(0xc2)][_0x37f819(0xc6)][_0x37f819(0xc1)](_0x1b5cb2,0x1);}}class TransformFmCommand extends Command{constructor(_0x433db3,_0xc84d10,_0x2babb2,_0x46b7c7){const _0x3edabb=_0x1a0936;super(),this[_0x3edabb(0xcb)]=_0x433db3,this[_0x3edabb(0xd6)]=_0xc84d10,this[_0x3edabb(0xbd)]=_0x2babb2,this[_0x3edabb(0xce)]=_0x46b7c7,this[_0x3edabb(0xcf)]=_0x433db3[_0x3edabb(0xd1)]?_0x433db3[_0x3edabb(0xd1)]:null,this[_0x3edabb(0xb7)]=_0x433db3['x'],this['newY']=_0x433db3['y'],this[_0x3edabb(0xca)]=_0x433db3[_0x3edabb(0xd5)],this['newScale']=_0x433db3[_0x3edabb(0xd1)]?_0x433db3['scale']:null;}[_0x1a0936(0xb6)](){const _0x538677=_0x1a0936;this[_0x538677(0xcb)]['x']=this[_0x538677(0xb7)],this['frameModule']['y']=this[_0x538677(0xc3)],this[_0x538677(0xcb)][_0x538677(0xd5)]=this[_0x538677(0xca)],this['frameModule'][_0x538677(0xd1)]=this[_0x538677(0xdc)]?this['newScale']:null;}[_0x1a0936(0xbe)](){const _0x2cf754=_0x1a0936;this[_0x2cf754(0xcb)]['x']=this[_0x2cf754(0xd6)],this[_0x2cf754(0xcb)]['y']=this['oldY'],this['frameModule'][_0x2cf754(0xd5)]=this['oldFlag'],this[_0x2cf754(0xcb)][_0x2cf754(0xd1)]=this['oldScale']?this['oldScale']:null;}}class FlipHorizontalCommand extends Command{constructor(_0x416a47){const _0x135781=_0x1a0936;super(),this[_0x135781(0xcb)]=_0x416a47,this[_0x135781(0xce)]=_0x416a47[_0x135781(0xd5)];}[_0x1a0936(0xb6)](){const _0x4c12fb=_0x1a0936;this['frameModule'][_0x4c12fb(0xd5)]^=0x1;}[_0x1a0936(0xbe)](){const _0x4854f5=_0x1a0936;this[_0x4854f5(0xcb)][_0x4854f5(0xd5)]=this[_0x4854f5(0xce)];}}function _0x4017(_0x384d66,_0x3c77f9){const _0x141243=_0x1227();return _0x4017=function(_0xdefa27,_0xc80bd2){_0xdefa27=_0xdefa27-0xb6;let _0x1227c4=_0x141243[_0xdefa27];if(_0x4017['KlcLzC']===undefined){var _0x401717=function(_0x592425){const _0x40054e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x12bc86='',_0xfc606f='',_0x101dc5=_0x12bc86+_0x401717;for(let _0x47e385=0x0,_0x1c9e11,_0x231825,_0x39b58f=0x0;_0x231825=_0x592425['charAt'](_0x39b58f++);~_0x231825&&(_0x1c9e11=_0x47e385%0x4?_0x1c9e11*0x40+_0x231825:_0x231825,_0x47e385++%0x4)?_0x12bc86+=_0x101dc5['charCodeAt'](_0x39b58f+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x1c9e11>>(-0x2*_0x47e385&0x6)):_0x47e385:0x0){_0x231825=_0x40054e['indexOf'](_0x231825);}for(let _0x4b78a7=0x0,_0x399fba=_0x12bc86['length'];_0x4b78a7<_0x399fba;_0x4b78a7++){_0xfc606f+='%'+('00'+_0x12bc86['charCodeAt'](_0x4b78a7)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xfc606f);};_0x4017['flPGaa']=_0x401717,_0x384d66=arguments,_0x4017['KlcLzC']=!![];}const _0x2eb1d3=_0x141243[0x0],_0x4b2bc6=_0xdefa27+_0x2eb1d3,_0x12be22=_0x384d66[_0x4b2bc6];if(!_0x12be22){const _0x4b29be=function(_0x442bef){this['EXcTwP']=_0x442bef,this['NPWJRC']=[0x1,0x0,0x0],this['cScJDf']=function(){return'newState';},this['PCEMyK']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['hjPfcd']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4b29be['prototype']['QCDeGZ']=function(){const _0x1b5cb2=new RegExp(this['PCEMyK']+this['hjPfcd']),_0x433db3=_0x1b5cb2['test'](this['cScJDf']['toString']())?--this['NPWJRC'][0x1]:--this['NPWJRC'][0x0];return this['crAWQh'](_0x433db3);},_0x4b29be['prototype']['crAWQh']=function(_0xc84d10){if(!Boolean(~_0xc84d10))return _0xc84d10;return this['OfokXa'](this['EXcTwP']);},_0x4b29be['prototype']['OfokXa']=function(_0x2babb2){for(let _0x46b7c7=0x0,_0x416a47=this['NPWJRC']['length'];_0x46b7c7<_0x416a47;_0x46b7c7++){this['NPWJRC']['push'](Math['round'](Math['random']())),_0x416a47=this['NPWJRC']['length'];}return _0x2babb2(this['NPWJRC'][0x0]);},new _0x4b29be(_0x4017)['QCDeGZ'](),_0x1227c4=_0x4017['flPGaa'](_0x1227c4),_0x384d66[_0x4b2bc6]=_0x1227c4;}else _0x1227c4=_0x12be22;return _0x1227c4;},_0x4017(_0x384d66,_0x3c77f9);}class FlipVerticalCommand extends Command{constructor(_0x541d1c){const _0x1a10c8=_0x1a0936;super(),this[_0x1a10c8(0xcb)]=_0x541d1c,this[_0x1a10c8(0xce)]=_0x541d1c['flag'];}[_0x1a0936(0xb6)](){const _0x54de65=_0x1a0936;this[_0x54de65(0xcb)]['flag']^=0x2;}['undo'](){const _0x5d1286=_0x1a0936;this['frameModule'][_0x5d1286(0xd5)]=this[_0x5d1286(0xce)];}}class TransformExpressionRectCommand extends Command{constructor(_0x25a599,_0x5df71d,_0x3ed767){const _0x33e597=_0x1a0936;super(),this[_0x33e597(0xd7)]=_0x25a599,this['oldX']=_0x5df71d,this[_0x33e597(0xbd)]=_0x3ed767,this[_0x33e597(0xb7)]=_0x25a599['x'],this[_0x33e597(0xc3)]=_0x25a599['y'];}['execute'](){const _0x5de5aa=_0x1a0936;this[_0x5de5aa(0xd7)]['x']=this[_0x5de5aa(0xb7)],this['expressionRect']['y']=this[_0x5de5aa(0xc3)];}[_0x1a0936(0xbe)](){const _0x3660e2=_0x1a0936;this[_0x3660e2(0xd7)]['x']=this['oldX'],this[_0x3660e2(0xd7)]['y']=this[_0x3660e2(0xbd)];}}class CompositeCommand extends Command{constructor(){super(),this['commands']=[];}[_0x1a0936(0xd2)](_0x15e8f6){const _0x3b6b2a=_0x1a0936;this[_0x3b6b2a(0xbf)]['push'](_0x15e8f6);}['execute'](){const _0x1aaa77=_0x1a0936;for(const _0x26c2bf of this[_0x1aaa77(0xbf)]){_0x26c2bf[_0x1aaa77(0xb6)]();}}[_0x1a0936(0xbe)](){const _0x57b4c9=_0x1a0936;for(let _0x5856a3=this[_0x57b4c9(0xbf)][_0x57b4c9(0xcd)]-0x1;_0x5856a3>=0x0;_0x5856a3--){this[_0x57b4c9(0xbf)][_0x5856a3][_0x57b4c9(0xbe)]();}}}class CommandManager{constructor(){const _0x156d3a=_0x1a0936;this['commandStack']=[],this[_0x156d3a(0xbb)]=[];}[_0x1a0936(0xd2)](_0x49837a){const _0x49ce5e=_0x1a0936;_0x49837a[_0x49ce5e(0xb6)](),this[_0x49ce5e(0xd3)][_0x49ce5e(0xd9)](_0x49837a),this[_0x49ce5e(0xbb)]=[];}['undo'](){const _0xa7ec2=_0x1a0936;if(this['commandStack'][_0xa7ec2(0xcd)]===0x0)return;const _0x1fc862=this['commandStack']['pop']();_0x1fc862[_0xa7ec2(0xbe)](),this[_0xa7ec2(0xbb)]['push'](_0x1fc862);}[_0x1a0936(0xcc)](){const _0x8ebfb9=_0x1a0936;if(this[_0x8ebfb9(0xbb)][_0x8ebfb9(0xcd)]===0x0)return;const _0x99e77a=this[_0x8ebfb9(0xbb)]['pop']();_0x99e77a[_0x8ebfb9(0xb6)](),this['commandStack'][_0x8ebfb9(0xd9)](_0x99e77a);}}